function Block(o,i){this.x=o,this.y=i,this.dimension=blockInnerW,this.display=function(){layer1.rect(this.x,this.y,this.dimension,this.dimension).stroke("2 black 1")},this.hide=function(){layer1.rect(this.x,this.y,this.dimension,this.dimension).stroke("3 white 1")}}function makeBlocks(){stage.suspend(),blocks=[];for(var o=0,i=0,n=0,e=getBlocksAmountX(widthStage),t=getBlocksAmountX(heightStage),l=0;l<=t;l++){n=l*blockW+1;for(var a=0;a<=e;a++)i=a*blockW+1,blocks[o]=new Block(i,n),o++}stage.resume(),blocksCreated=!0}function render(){layer1.remove(),stage.suspend(),layer1=stage.layer();for(var o=0;o<=blocks.length-1;o++)blocks[o].display();stage.resume()}function getRandom(){var o;return Math.floor(Math.random()*Math.floor(lineMax-1))+1}function getRandomX(o){var i;return Math.floor(Math.random()*Math.floor(o-1))+1}function makeLineBlocks(){for(var o=blocks.length,i=1,n=0,e=0,t=Math.floor(o/lineMax),l,a=Math.ceil(o/(t/4)),s=0;s<=o-lineMax;s+=i)lineBlocks[n]=[e,i],e+=i,i=s<a?getRandomX(20):getRandom(),n++;for(var r=0,c,s=0;s<lineBlocks.length;s++){var m;r+=lineBlocks[s][1]}c=o-r,lineBlocks[lineBlocks.length]=[r,c],loop=lineBlocks.length-1}function removingAnimation(){setTimeout(function(){if(stage.suspend(),lineBlocks.length){startRemovingAnimationLoop&&(startRemovingAnimationLoop=!1);var o=Math.floor(Math.random()*(lineBlocks.length/2)),i=lineBlocks[o][0],n=lineBlocks[o][1];lineBlocks.splice(o,1);for(var e=i;e<i+n;e++)blocks[e].hide()}stage.resume(),--loop>=-1?removingAnimation():(animationFinished=!0,removingAnimationFinished())},10)}function buildingAnimation(){setTimeout(function(){if(stage.suspend(),lineBlocks.length){var o=Math.floor(Math.random()*(lineBlocks.length/6)),i=lineBlocks[o][0],n=lineBlocks[o][1];lineBlocks.splice(o,1);for(var e=i;e<i+n;e++)blocks[e].display()}stage.resume(),--loop>=-1?buildingAnimation():(animationFinished=!0,buildingAnimationFinished())},10)}function startRemovingAnimation(){var o;beforeAnimation=!1,makeLineBlocks(),(o=jQuery)(".column--1").find(".block--fill").removeClass("block--available"),removingAnimation()}function startBuildingAnimation(){beforeAnimation=!1,makeLineBlocks(),buildingAnimation()}function fillAnimation(){setTimeout(function(){var o=getBlocksAmountX(widthStage),i=getBlocksAmountX(heightStage),n=Math.floor(Math.random()*o),e=Math.floor(Math.random()*i),t=0,l,a;(a=jQuery)(".block--available").each(function(){t++}),l=Math.floor(Math.random()*t),a(".block--available").each(function(o){if(o==l){var i=n*blockW,t=e*blockW,s=Math.random(1);a(".block--available").removeClass("block--filled"),a(this).css({left:i,top:t}),s>.666&&a(this).addClass("block--filled")}}),fillAnimation()},2e3)}var stage=acgraph.create("blocks--container"),layer1=stage.layer(),blocks=[],blocksCreated=!1,lineBlocks=[],lineBlocksSize,loop,lineMax=100,animationFinished=!1,beforeAnimation=!0,startRemovingAnimationLoop=!0,startBuildingAnimationLoop=!0;
//# sourceMappingURL=blocks-min.js.map